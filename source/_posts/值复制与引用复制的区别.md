---
title: 值复制与引用复制的区别
date: 2023-04-28
tags: 
- Java 
- 值复制 
- 引用复制 
- 示例
---

时间：2023-04-27
标签： #Java #值复制 #引用复制 #示例

---

值复制和引用复制是在操作变量和对象时的两种不同方式。以下是它们之间的根本区别：

值复制（Value Copy）：
值复制是指将一个变量的值复制到另一个变量。在这种情况下，两个变量拥有相同的值，但它们在内存中位于不同的位置。它们互不影响，对其中一个变量的操作不会影响另一个变量。值复制通常用于基本数据类型（如 int，float，double 等）。

示例：
```java
int a = 10;
int b = a; // 值复制
b = 20;
System.out.println(a); // 输出：10
System.out.println(b); // 输出：20
```

引用复制（Reference Copy）：
引用复制是指将一个对象的引用复制到另一个对象。在这种情况下，两个变量指向内存中的同一个对象，因此它们共享相同的数据。对其中一个变量的操作会影响另一个变量，因为它们实际上引用的是同一个对象。引用复制通常用于对象类型（如自定义类，集合等）。

示例：
```java
List<Integer> list1 = new ArrayList<>();
list1.add(1);
list1.add(2);

List<Integer> list2 = list1; // 引用复制
list2.add(3);

System.out.println(list1); // 输出：[1, 2, 3]
System.out.println(list2); // 输出：[1, 2, 3]
```

在这个例子中，`list2` 是 `list1` 的引用复制。它们都指向内存中的同一个对象，因此对 `list2` 的操作（添加元素 3）也影响了 `list1`。

总之，值复制与引用复制的根本区别在于它们操作变量和对象的方式。值复制创建了两个独立的变量，它们具有相同的值，但不会互相影响。而引用复制让两个变量指向同一个对象，它们共享相同的数据，对其中一个的操作会影响另一个。